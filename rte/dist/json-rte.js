System.register(["@contentstack/venus-components","react"],(function(e,t){var n={},r={};return{setters:[function(e){n.Button=e.Button,n.ButtonGroup=e.ButtonGroup,n.Dropdown=e.Dropdown,n.Field=e.Field,n.FieldLabel=e.FieldLabel,n.Form=e.Form,n.Icon=e.Icon,n.ModalBody=e.ModalBody,n.ModalFooter=e.ModalFooter,n.ModalHeader=e.ModalHeader,n.TextInput=e.TextInput,n.ValidationMessage=e.ValidationMessage,n.cbModal=e.cbModal},function(e){r.default=e.default,r.useState=e.useState}],execute:function(){e(function(){var e={28:function(e){var t;t=()=>{return e={957:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./node_modules/cross-domain-utils/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/cross-domain-utils/src/utils.js");n.d(t,"getActualDomain",(function(){return r.a})),n.d(t,"getAncestor",(function(){return r.b})),n.d(t,"getDomain",(function(){return r.c})),n.d(t,"getUserAgent",(function(){return r.d})),n.d(t,"isActuallySameDomain",(function(){return r.e})),n.d(t,"isAncestor",(function(){return r.f})),n.d(t,"isIframe",(function(){return r.g})),n.d(t,"isPopup",(function(){return r.h})),n.d(t,"isWindow",(function(){return r.i})),n.d(t,"isWindowClosed",(function(){return r.j})),n.d(t,"matchDomain",(function(){return r.k})),n.d(t,"stringifyDomainPattern",(function(){return r.l}));var o=n("./node_modules/cross-domain-utils/src/types.js");n.n(o)},"./node_modules/cross-domain-utils/src/types.js":function(e,t){},"./node_modules/cross-domain-utils/src/utils.js":function(e,t,n){"use strict";function r(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.a=l,t.c=d,t.e=f,t.j=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==i}if(t&&function(e){if(!f(e))return!1;try{if(e===window)return!0;if(a(e)&&c(e))return!0;if(d(window)===d(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(y,e);if(-1!==n){var r=m[n];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;return!(!t||!t.body||t.body.contains(e))}(r))return!0}return!1},t.d=function(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent},t.b=v,t.f=function(e,t){var n=v(t);if(n)return n===e;if(t===e)return!1;if(function(e){if(e){try{if(e.top)return e.top}catch(e){}if(s(e)===e)return e;try{if(h(window,e)&&window.top)return window.top}catch(e){}try{if(h(e,window)&&window.top)return window.top}catch(e){}for(var t=0,n=function e(t){for(var n=[],r=0,o=p(t),i=null==o?0:o.length;r<i;r++){var a=o[r];n.push(a);for(var s=0,u=e(a),c=null==u?0:u.length;s<c;s++){var l=u[s];n.push(l)}}return n}(e),r=null==n?0:n.length;t<r;t++){var o=n[t];try{if(o.top)return o.top}catch(e){}if(s(o)===o)return o}}}(t)===t)return!1;for(var r=0,o=p(e),i=null==o?0:o.length;r<i;r++)if(o[r]===t)return!0;return!1},t.h=function(){return Boolean(u(window))},t.g=function(){return Boolean(s(window))},t.k=function e(t,n){if("string"==typeof t){if("string"==typeof n)return t===o.WILDCARD||n===t;if(r(n))return!1;if(Array.isArray(n))return!1}return r(t)?r(n)?t.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(t)):!!Array.isArray(t)&&(Array.isArray(n)?JSON.stringify(t)===JSON.stringify(n):!r(n)&&t.some((function(t){return e(t,n)})))},t.l=function(e){return Array.isArray(e)?"("+e.join(" | ")+")":r(e)?"RegExp("+e.toString():e.toString()},t.i=function(e){try{if(e===window)return!0}catch(e){if(e&&e.message===i)return!0}try{if("[object Window]"===Object.prototype.toString.call(e))return!0}catch(e){if(e&&e.message===i)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===i)return!0}try{e&&e.__cross_domain_utils_window_check__}catch(e){return!0}return!1};var o={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},i="Call was rejected by callee.\r\n";function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.ABOUT_PROTOCOL}function s(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function u(e){if(e&&!s(e))try{return e.opener}catch(e){}}function c(e){try{return e&&e.location&&e.location.href,!0}catch(e){}return!1}function l(e){var t=(e=e||window).location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===o.FILE_PROTOCOL)return o.FILE_PROTOCOL+"//";if(n===o.ABOUT_PROTOCOL){var r=s(e);return r&&c(r)?l(r):o.ABOUT_PROTOCOL+"//"}var i=t.host;if(!i)throw new Error("Can not read window host");return n+"//"+i}function d(e){var t=l(e=e||window);return t&&e.mockDomain&&0===e.mockDomain.indexOf(o.MOCK_PROTOCOL)?e.mockDomain:t}function f(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(a(e)&&c(e))return!0}catch(e){}try{if(l(e)===l(window))return!0}catch(e){}return!1}function h(e,t){if(!e||!t)return!1;var n=s(t);return n?n===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function p(e){var t=[],n=void 0;try{n=e.frames}catch(t){n=e}var r=void 0;try{r=n.length}catch(e){}if(0===r)return t;if(r){for(var o=0;o<r;o++){var i=void 0;try{i=n[o]}catch(e){continue}t.push(i)}return t}for(var a=0;a<100;a++){var s=void 0;try{s=n[a]}catch(e){return t}if(!s)return t;t.push(s)}return t}var y=[],m=[];function v(e){return u(e=e||window)||s(e)||void 0}},"./src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d({},"WeakMap",(function(){return c}));var r={};n.d(r,"cleanUpWindow",(function(){return te})),n.d(r,"Promise",(function(){return E})),n.d(r,"bridge",(function(){return ne})),n.d(r,"init",(function(){return re})),n.d(r,"parent",(function(){return ee})),n.d(r,"send",(function(){return H})),n.d(r,"request",(function(){return z})),n.d(r,"sendToParent",(function(){return K})),n.d(r,"client",(function(){return Q})),n.d(r,"on",(function(){return $})),n.d(r,"listen",(function(){return Y})),n.d(r,"once",(function(){return J})),n.d(r,"listener",(function(){return Z})),n.d(r,"CONFIG",(function(){return f})),n.d(r,"CONSTANTS",(function(){return l})),n.d(r,"disable",(function(){return X}));var o=n("./node_modules/cross-domain-utils/src/index.js");function i(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var a,s=Object.defineProperty,u=Date.now()%1e9,c=function(){function e(){if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),u+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+u,function(){if(!window.WeakMap)return!1;if(!window.Object.freeze)return!1;try{var e=new window.WeakMap,t={};return window.Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new window.WeakMap}catch(e){}this.keys=[],this.values=[]}return e.prototype._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(Object(o.isWindow)(r)&&Object(o.isWindowClosed)(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},e.prototype.isSafeToReadWrite=function(e){if(Object(o.isWindow)(e))return!1;try{e&&e.self,e&&e[this.name]}catch(e){return!1}return!0},e.prototype.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=this.name,o=e[r];o&&o[0]===e?o[1]=t:s(e,r,{value:[e,t],writable:!0})}else{this._cleanupClosedWindows();var a=this.keys,u=this.values,c=i(a,e);-1===c?(a.push(e),u.push(t)):u[c]=t}},e.prototype.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var n=i(this.keys,e);if(-1===n)return;return this.values[n]}var r=e[this.name];if(r&&r[0]===e)return r[1]},e.prototype.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}else{this._cleanupClosedWindows();var r=this.keys,o=i(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))}},e.prototype.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{return t.has(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];return!(!n||n[0]!==e)}return this._cleanupClosedWindows(),-1!==i(this.keys,e)},e}(),l={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",HELLO:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"},d={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},f=(Object.keys(d).map((function(e){return d[e]})),{ALLOW_POSTMESSAGE_POPUP:!("__ALLOW_POSTMESSAGE_POPUP__"in window)||window.__ALLOW_POSTMESSAGE_POPUP__,BRIDGE_TIMEOUT:5e3,CHILD_WINDOW_TIMEOUT:5e3,ACK_TIMEOUT:-1!==window.navigator.userAgent.match(/MSIE/i)?2e3:1e3,RES_TIMEOUT:-1,ALLOWED_POST_MESSAGE_METHODS:(a={},a[l.SEND_STRATEGIES.POST_MESSAGE]=!0,a[l.SEND_STRATEGIES.BRIDGE]=!0,a[l.SEND_STRATEGIES.GLOBAL]=!0,a),ALLOW_SAME_ORIGIN:!1});0===window.location.href.indexOf(l.FILE_PROTOCOL)&&(f.ALLOW_POSTMESSAGE_POPUP=!0);var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+Object.prototype.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,r=e&&e.message;if(n&&r)return-1!==n.indexOf(r)?n:r+"\n"+n;if(n)return n;if(r)return r}return"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}catch(e){return"Error while stringifying error: "+p(e,t+1)}}var y=function(e){if(!e)return e;var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}};function m(){}function v(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n>=100)throw new Error("Self-referential object passed, or object contained too many layers");var r=void 0;if("object"!==(void 0===e?"undefined":h(e))||null===e||Array.isArray(e)){if(!Array.isArray(e))throw new TypeError("Invalid type: "+(void 0===e?"undefined":h(e)));r=[]}else r={};return function(e,t){Array.isArray(e)?function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}(e,t):"object"===(void 0===e?"undefined":h(e))&&null!==e&&function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}(e,t)}(e,(function(e,o){var i=t(e,o);void 0!==i?r[o]=i:"object"===(void 0===e?"undefined":h(e))&&null!==e?r[o]=w(e,t,n+1):r[o]=e})),r}function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function _(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}function b(){var e=void 0;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof window)throw new TypeError("Can not find global");e=window}var t=e.__zalgopromise__=e.__zalgopromise__||{};return t.flushPromises=t.flushPromises||[],t.activeCount=t.activeCount||0,t.possiblyUnhandledPromiseHandlers=t.possiblyUnhandledPromiseHandlers||[],t.dispatchedErrors=t.dispatchedErrors||[],t}var E=function(){function e(t){var n=this;if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var r=void 0,o=void 0,i=!1,a=!1,s=!1;try{t((function(e){s?n.resolve(e):(i=!0,r=e)}),(function(e){s?n.reject(e):(a=!0,o=e)}))}catch(e){return void this.reject(e)}s=!0,i?this.resolve(r):a&&this.reject(o)}}return e.prototype.resolve=function(e){if(this.resolved||this.rejected)return this;if(_(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},e.prototype.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(_(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===b().dispatchedErrors.indexOf(e)){b().dispatchedErrors.push(e),setTimeout((function(){throw e}),1);for(var n=0;n<b().possiblyUnhandledPromiseHandlers.length;n++)b().possiblyUnhandledPromiseHandlers[n](e,t)}}(e,t)}),1),this.dispatch(),this},e.prototype.asyncReject=function(e){this.errorHandled=!0,this.reject(e)},e.prototype.dispatch=function(){var t=this,n=this.dispatching,r=this.resolved,o=this.rejected,i=this.handlers;if(!n&&(r||o)){this.dispatching=!0,b().activeCount+=1;for(var a=function(n){var a=i[n],s=a.onSuccess,u=a.onError,c=a.promise,l=void 0;if(r)try{l=s?s(t.value):t.value}catch(e){return c.reject(e),"continue"}else if(o){if(!u)return c.reject(t.error),"continue";try{l=u(t.error)}catch(e){return c.reject(e),"continue"}}l instanceof e&&(l.resolved||l.rejected)?(l.resolved?c.resolve(l.value):c.reject(l.error),l.errorHandled=!0):_(l)?l instanceof e&&(l.resolved||l.rejected)?l.resolved?c.resolve(l.value):c.reject(l.error):l.then((function(e){c.resolve(e)}),(function(e){c.reject(e)})):c.resolve(l)},s=0;s<i.length;s++)a(s);i.length=0,this.dispatching=!1,b().activeCount-=1,0===b().activeCount&&e.flushQueue()}},e.prototype.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))},e.prototype.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},e.prototype.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(t){return t instanceof e?t:_(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.all=function(t){var n=new e,r=t.length,o=[];if(!r)return n.resolve(o),n;for(var i=function(i){var a=t[i];if(a instanceof e){if(a.resolved)return o[i]=a.value,r-=1,"continue"}else if(!_(a))return o[i]=a,r-=1,"continue";e.resolve(a).then((function(e){o[i]=e,0==(r-=1)&&n.resolve(o)}),(function(e){n.reject(e)}))},a=0;a<t.length;a++)i(a);return 0===r&&n.resolve(o),n},e.hash=function(t){var n={};return e.all(Object.keys(t).map((function(r){return e.resolve(t[r]).then((function(e){n[r]=e}))}))).then((function(){return n}))},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return function(e){return b().possiblyUnhandledPromiseHandlers.push(e),{cancel:function(){b().possiblyUnhandledPromiseHandlers.splice(b().possiblyUnhandledPromiseHandlers.indexOf(e),1)}}}(e)},e.try=function(t,n,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o=void 0;try{o=t.apply(n,r||[])}catch(t){return e.reject(t)}return e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||_(t)},e.flush=function(){var t=new e;return b().flushPromises.push(t),0===b().activeCount&&e.flushQueue(),t},e.flushQueue=function(){var e=b().flushPromises;b().flushPromises=[];for(var t=0,n=null==e?0:e.length;t<n;t++)e[t].resolve()},e}(),O=window[l.WINDOW_PROPS.POSTROBOT]=window[l.WINDOW_PROPS.POSTROBOT]||{};O.registerSelf=function(){};var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};O.methods=O.methods||new c;var S=y((function(){O.on(l.POST_MESSAGE_NAMES.METHOD,{origin:l.WILDCARD},(function(e){var t=e.source,n=e.origin,r=e.data,i=O.methods.get(t);if(!i)throw new Error("Could not find any methods this window has privileges to call");var a=i[r.id];if(!a)throw new Error("Could not find method with id: "+r.id);if(!Object(o.matchDomain)(a.domain,n))throw new Error("Method domain "+a.domain+" does not match origin "+n);return E.try((function(){return a.method.apply({source:t,origin:n,data:r},r.args)})).then((function(e){return{result:e,id:r.id,name:r.name}}))}))}));function T(e,t){return"object"===(void 0===e?"undefined":P(e))&&null!==e&&e.__type__===t}function A(e,t,n,r){var o=v(),i=O.methods.get(e);return i||(i={},O.methods.set(e,i)),i[o]={domain:t,method:n},{__type__:l.SERIALIZATION_TYPES.METHOD,__id__:o,__name__:r}}function D(e,t,n){function r(){var r=Array.prototype.slice.call(arguments);return O.send(e,l.POST_MESSAGE_NAMES.METHOD,{id:n.__id__,name:n.__name__,args:r},{domain:t,timeout:-1}).then((function(e){return e.data.result}),(function(e){throw e}))}return r.__name__=n.__name__,r.__xdomain__=!0,r.source=e,r.origin=t,r}function j(e,t,n){return new E((function(r,o){return D(e,t,n.__then__)(r,o)}))}function M(e){return O.send(e,l.POST_MESSAGE_NAMES.HELLO,{},{domain:l.WILDCARD,timeout:-1}).then((function(e){return{origin:e.origin}}))}O.readyPromises=O.readyPromises||new c;var R={};R[l.SEND_STRATEGIES.POST_MESSAGE]=function(e,t,n){(Array.isArray(n)?n:"string"==typeof n?[n]:[l.WILDCARD]).map((function(t){if(0===t.indexOf(l.MOCK_PROTOCOL)){if(window.location.protocol===l.FILE_PROTOCOL)return l.WILDCARD;if(!Object(o.isActuallySameDomain)(e))throw new Error("Attempting to send messsage to mock domain "+t+", but window is actually cross-domain");return Object(o.getActualDomain)(e)}return 0===t.indexOf(l.FILE_PROTOCOL)?l.WILDCARD:t})).forEach((function(n){return e.postMessage(t,n)}))};var k,C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function x(e,t,n){return E.try((function(){var r;if(t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v(),i=Object(o.isPopup)()?l.WINDOW_TYPES.POPUP:Object(o.isIframe)()?l.WINDOW_TYPES.IFRAME:l.WINDOW_TYPES.FULLPAGE,a=Object(o.getDomain)(window);return C({},t,n,{sourceDomain:a,id:t.id||r,windowType:i})}(e,t,{data:function(e,n,r){return w({obj:t.data},(function(t,r){return"function"==typeof t?A(e,n,t,r.toString()):t instanceof Error?(o=t,{__type__:l.SERIALIZATION_TYPES.ERROR,__message__:p(o),__code__:o.code}):window.Promise&&t instanceof window.Promise?function(e,t,n,r){return{__type__:l.SERIALIZATION_TYPES.PROMISE,__then__:A(e,t,(function(e,t){return n.then(e,t)}),r+".then")}}(e,n,t,r.toString()):E.isPromise(t)?function(e,t,n,r){return{__type__:l.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:A(e,t,(function(e,t){return n.then(e,t)}),r+".then")}}(e,n,t,r.toString()):g(t)?(i=t,{__type__:l.SERIALIZATION_TYPES.REGEX,__source__:i.source}):void 0;var o,i})).obj}(e,n),domain:n}),e===window&&!f.ALLOW_SAME_ORIGIN)throw new Error("Attemping to send message to self");if(Object(o.isWindowClosed)(e))throw new Error("Window is closed");var i=[],a=function(e,t,n){var r=void 0,o=void 0;try{if("{}"!==JSON.stringify({})&&(r=Object.prototype.toJSON,delete Object.prototype.toJSON),"{}"!==JSON.stringify({}))throw new Error("Can not correctly serialize JSON objects");if("[]"!==JSON.stringify([])&&(o=Array.prototype.toJSON,delete Array.prototype.toJSON),"[]"!==JSON.stringify([]))throw new Error("Can not correctly serialize JSON objects")}catch(e){throw new Error("Can not repair JSON.stringify: "+e.message)}var i=JSON.stringify.call(this,e,null,2);try{r&&(Object.prototype.toJSON=r),o&&(Array.prototype.toJSON=o)}catch(e){throw new Error("Can not repair JSON.stringify: "+e.message)}return i}(((r={})[l.WINDOW_PROPS.POSTROBOT]=t,r));return E.map(Object.keys(R),(function(t){return E.try((function(){if(!f.ALLOWED_POST_MESSAGE_METHODS[t])throw new Error("Strategy disallowed: "+t);return R[t](e,a,n)})).then((function(){return i.push(t+": success"),!0}),(function(e){return i.push(t+": "+p(e)+"\n"),!1}))})).then((function(e){var n=e.some(Boolean),r=t.type+" "+t.name+" "+(n?"success":"error")+":\n  - "+i.join("\n  - ")+"\n";if(!n)throw new Error(r)}))}))}function I(e){return O.responseListeners[e]}function L(e){delete O.responseListeners[e]}function W(e){return Boolean(O.erroredResponseListeners[e])}function q(e){var t=e.name,n=e.win,r=e.domain;if(n===l.WILDCARD&&(n=null),r===l.WILDCARD&&(r=null),!t)throw new Error("Name required to get request listener");var i=O.requestListeners[t];if(i)for(var a=0,s=[n,O.WINDOW_WILDCARD],u=null==s?0:s.length;a<u;a++){var c=s[a],d=c&&i.get(c);if(d){if(r&&"string"==typeof r){if(d[r])return d[r];if(d.__domain_regex__)for(var f=0,h=d.__domain_regex__,p=null==h?0:h.length;f<p;f++){var y=h[f],m=y.regex,v=y.listener;if(Object(o.matchDomain)(m,r))return v}}if(d[l.WILDCARD])return d[l.WILDCARD]}}}O.responseListeners=O.responseListeners||{},O.requestListeners=O.requestListeners||{},O.WINDOW_WILDCARD=O.WINDOW_WILDCARD||new function(){},O.erroredResponseListeners=O.erroredResponseListeners||{};var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=((k={})[l.POST_MESSAGE_TYPE.ACK]=function(e,t,n){if(!W(n.hash)){var r=I(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(o.matchDomain)(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());r.ack=!0}},k[l.POST_MESSAGE_TYPE.REQUEST]=function(e,t,n){var r=q({name:n.name,win:e,domain:t});function i(r){return n.fireAndForget||Object(o.isWindowClosed)(e)?E.resolve():x(e,N({target:n.originalSource,hash:n.hash,name:n.name},r),t)}return E.all([i({type:l.POST_MESSAGE_TYPE.ACK}),E.try((function(){if(!r)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(o.matchDomain)(r.domain,t))throw new Error("Request origin "+t+" does not match domain "+r.domain.toString());var i=n.data;return r.handler({source:e,origin:t,data:i})})).then((function(e){return i({type:l.POST_MESSAGE_TYPE.RESPONSE,ack:l.POST_MESSAGE_ACK.SUCCESS,data:e})}),(function(e){var t=p(e).replace(/^Error: /,""),n=e.code;return i({type:l.POST_MESSAGE_TYPE.RESPONSE,ack:l.POST_MESSAGE_ACK.ERROR,error:t,code:n})}))]).then(m).catch((function(e){if(r&&r.handleError)return r.handleError(e);throw e}))},k[l.POST_MESSAGE_TYPE.RESPONSE]=function(e,t,n){if(!W(n.hash)){var r=I(n.hash);if(!r)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(o.matchDomain)(r.domain,t))throw new Error("Response origin "+t+" does not match domain "+Object(o.stringifyDomainPattern)(r.domain));if(L(n.hash),n.ack===l.POST_MESSAGE_ACK.ERROR){var i=new Error(n.error);return n.code&&(i.code=n.code),r.respond(i,null)}if(n.ack===l.POST_MESSAGE_ACK.SUCCESS){var a=n.data||n.response;return r.respond(null,{source:e,origin:t,data:a})}}},k),F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(e){if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(e){return}var t=e.source,n=e.origin,r=function(e){var t,n=void 0;try{t=e,n=JSON.parse(t)}catch(e){return}if(n&&"object"===(void 0===n?"undefined":F(n))&&null!==n&&(n=n[l.WINDOW_PROPS.POSTROBOT])&&"object"===(void 0===n?"undefined":F(n))&&null!==n&&n.type&&"string"==typeof n.type&&U[n.type])return n}(e.data);if(r){if(!r.sourceDomain||"string"!=typeof r.sourceDomain)throw new Error("Expected message to have sourceDomain");0!==r.sourceDomain.indexOf(l.MOCK_PROTOCOL)&&0!==r.sourceDomain.indexOf(l.FILE_PROTOCOL)||(n=r.sourceDomain),-1===O.receivedMessages.indexOf(r.id)&&(O.receivedMessages.push(r.id),Object(o.isWindowClosed)(t)&&!r.fireAndForget||(r.data&&(r.data=function(e,t,n){return w({obj:r.data},(function(n){if("object"===(void 0===n?"undefined":P(n))&&null!==n)return T(n,l.SERIALIZATION_TYPES.METHOD)?D(e,t,n):T(n,l.SERIALIZATION_TYPES.ERROR)?function(e,t,n){var r=new Error(n.__message__);return n.__code__&&(r.code=n.__code__),r}(0,0,n):T(n,l.SERIALIZATION_TYPES.PROMISE)?function(e,t,n){return window.Promise?new window.Promise((function(r,o){return D(e,t,n.__then__)(r,o)})):j(e,t,n)}(e,t,n):T(n,l.SERIALIZATION_TYPES.ZALGO_PROMISE)?j(e,t,n):T(n,l.SERIALIZATION_TYPES.REGEX)?function(e,t,n){return new RegExp(n.__source__)}(0,0,n):void 0})).obj}(t,n)),U[r.type](t,n,r)))}}function B(e){try{e.source}catch(e){return}G({source:e.source||e.sourceElement,origin:e.origin||e.originalEvent&&e.originalEvent.origin,data:e.data})}function z(e){return E.try((function(){if(!e.name)throw new Error("Expected options.name");var t=e.name,n=void 0,r=void 0;if("string"==typeof e.window){var i=document.getElementById(e.window);if(!i)throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be a valid element id");if("iframe"!==i.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(!i.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");n=i.contentWindow}else if(e.window instanceof HTMLIFrameElement){if("iframe"!==e.window.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(e.window&&!e.window.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");e.window&&e.window.contentWindow&&(n=e.window.contentWindow)}else n=e.window;if(!n)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");var a=n;r=e.domain||l.WILDCARD;var s=e.name+"_"+v();if(Object(o.isWindowClosed)(a))throw new Error("Target window is closed");var u=!1,c=O.requestPromises.get(a);c||(c=[],O.requestPromises.set(a,c));var d=E.try((function(){if(Object(o.isAncestor)(window,a))return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Window",r=O.readyPromises.get(e);return r||(r=new E,O.readyPromises.set(e,r),-1!==t&&setTimeout((function(){return r.reject(new Error(n+" did not load after "+t+"ms"))}),t),r)}(a,e.timeout||f.CHILD_WINDOW_TIMEOUT)})).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(g(r)&&!e)return M(a)})).then((function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(g(r)){if(!Object(o.matchDomain)(r,n))throw new Error("Remote window domain "+n+" does not match regex: "+r.toString());r=n}if("string"!=typeof r&&!Array.isArray(r))throw new TypeError("Expected domain to be a string or array");var i=r;return new E((function(n,r){var h=void 0;if(e.fireAndForget||function(e,t){O.responseListeners[e]=t}(s,h={name:t,window:a,domain:i,respond:function(e,t){e||(u=!0,c.splice(c.indexOf(d,1))),e?r(e):n(t)}}),x(a,{type:l.POST_MESSAGE_TYPE.REQUEST,hash:s,name:t,data:e.data,fireAndForget:e.fireAndForget},i).catch(r),e.fireAndForget)return n();var p=f.ACK_TIMEOUT,y=e.timeout||f.RES_TIMEOUT,m=100;setTimeout((function n(){if(!u){if(Object(o.isWindowClosed)(a))return h.ack?r(new Error("Window closed for "+t+" before response")):r(new Error("Window closed for "+t+" before ack"));if(p=Math.max(p-m,0),-1!==y&&(y=Math.max(y-m,0)),h.ack){if(-1===y)return;m=Math.min(y,2e3)}else{if(0===p)return r(new Error("No ack for postMessage "+t+" in "+Object(o.getDomain)()+" in "+f.ACK_TIMEOUT+"ms"));if(0===y)return r(new Error("No response for postMessage "+t+" in "+Object(o.getDomain)()+" in "+(e.timeout||f.RES_TIMEOUT)+"ms"))}setTimeout(n,m)}}),m)}))}));return d.catch((function(){!function(e){O.erroredResponseListeners[e]=!0}(s),L(s)})),c.push(d),d}))}function H(e,t,n,r){return(r=r||{}).window=e,r.name=t,r.data=n,z(r)}function K(e,t,n){var r=Object(o.getAncestor)();return r?H(r,e,t,n):new E((function(e,t){return t(new Error("Window does not have a parent"))}))}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.window)throw new Error("Expected options.window");var t=e.window;return{send:function(n,r){return H(t,n,r,e)}}}O.receivedMessages=O.receivedMessages||[],O.receiveMessage=G,O.requestPromises=O.requestPromises||new c,O.send=H;var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Y(e){if(!e.name)throw new Error("Expected options.name");if(!e.handler)throw new Error("Expected options.handler");var t,n=e.name,r=e.window,i=e.domain,a={handler:e.handler,handleError:e.errorHandler||function(e){throw e},window:r,domain:i||l.WILDCARD,name:n},s=function e(t,n){var r=t.name,o=t.win,i=t.domain;if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(Array.isArray(o)){for(var a=[],s=0,u=o,d=null==u?0:u.length;s<d;s++){var f=u[s];a.push(e({name:r,domain:i,win:f},n))}return{cancel:function(){for(var e=0,t=null==a?0:a.length;e<t;e++)a[e].cancel()}}}if(Array.isArray(i)){for(var h=[],p=0,y=i,m=null==y?0:y.length;p<m;p++){var v=y[p];h.push(e({name:r,win:o,domain:v},n))}return{cancel:function(){for(var e=0,t=null==h?0:h.length;e<t;e++)h[e].cancel()}}}var w=q({name:r,win:o,domain:i});if(o&&o!==l.WILDCARD||(o=O.WINDOW_WILDCARD),i=i||l.WILDCARD,w)throw o&&i?new Error("Request listener already exists for "+r+" on domain "+i.toString()+" for "+(o===O.WINDOW_WILDCARD?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+r+" for "+(o===O.WINDOW_WILDCARD?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" on domain "+i.toString()):new Error("Request listener already exists for "+r);var _=O.requestListeners,b=_[r];b||(b=new c,_[r]=b);var E=b.get(o);E||(E={},b.set(o,E));var P=i.toString(),S=E.__domain_regex__,T=void 0;return g(i)?(S||(S=[],E.__domain_regex__=S),T={regex:i,listener:n},S.push(T)):E[P]=n,{cancel:function(){E&&(delete E[P],o&&0===Object.keys(E).length&&b.delete(o),T&&S.splice(S.indexOf(T,1)))}}}({name:n,win:r,domain:i},a);if(e.once){var u=a.handler;a.handler=y((function(){return s.cancel(),u.apply(this,arguments)}))}if(a.window&&e.errorOnClose)var d=(t=void 0,t=setTimeout((function e(){t=setTimeout(e,50),function(){r&&"object"===(void 0===r?"undefined":V(r))&&Object(o.isWindowClosed)(r)&&(d.cancel(),a.handleError(new Error("Post message target window is closed")))}.call()}),50),{cancel:function(){clearTimeout(t)}});return{cancel:function(){s.cancel()}}}function $(e,t,n){return"function"==typeof t&&(n=t,t={}),(t=t||{}).name=e,t.handler=n||t.handler,Y(t)}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"function"==typeof t&&(n=t,t={}),t=t||{},n=n||t.handler;var r=t.errorHandler,o=new E((function(o,i){(t=t||{}).name=e,t.once=!0,t.handler=function(e){if(o(e),n)return n(e)},t.errorHandler=function(e){if(i(e),r)return r(e)}})),i=Y(t);return o.cancel=i.cancel,o}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{on:function(t,n){return $(t,e,n)}}}function X(){delete window[l.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",B)}O.on=$;var ee=Object(o.getAncestor)();function te(e){var t=O.requestPromises.get(e);if(t)for(var n=0,r=null==t?0:t.length;n<r;n++)t[n].reject(new Error("No response from window - cleaned up"));O.popupWindowsByWin&&O.popupWindowsByWin.delete(e),O.remoteWindows&&O.remoteWindows.delete(e),O.requestPromises.delete(e),O.methods.delete(e),O.readyPromises.delete(e)}var ne=null;function re(){var e,t;O.initialized||(t=B,(e=window).addEventListener?e.addEventListener("message",t):e.attachEvent("onmessage",t),function(){e=function(e){var t=e.source,n=e.origin,r=O.readyPromises.get(t)||new E;r.resolve({origin:n}),O.readyPromises.set(t,r)},O.on(l.POST_MESSAGE_NAMES.HELLO,{domain:l.WILDCARD},(function(t){var n=t.source,r=t.origin;return e({source:n,origin:r})}));var e,t=Object(o.getAncestor)();t&&M(t).catch(m)}(),S({on:$,send:H})),O.initialized=!0}re(),n.d(t,"cleanUpWindow",(function(){return te})),n.d(t,"Promise",(function(){return E})),n.d(t,"bridge",(function(){return ne})),n.d(t,"init",(function(){return re})),n.d(t,"parent",(function(){return ee})),n.d(t,"send",(function(){return H})),n.d(t,"request",(function(){return z})),n.d(t,"sendToParent",(function(){return K})),n.d(t,"client",(function(){return Q})),n.d(t,"on",(function(){return $})),n.d(t,"listen",(function(){return Y})),n.d(t,"once",(function(){return J})),n.d(t,"listener",(function(){return Z})),n.d(t,"CONFIG",(function(){return f})),n.d(t,"CONSTANTS",(function(){return l})),n.d(t,"disable",(function(){return X})),t.default=r}})},727:(e,t,n)=>{e.exports=n(957),e.exports.default=e.exports},979:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(160)),s=function(){function e(e,t,n){this.currentAsset=e.data.currentAsset,this._emitter=n,this._connection=t;var r=this;this._emitter.on("assetSave",(function(e){r.currentAsset=e.data})),this._emitter.on("assetChange",(function(e){r._changedData=e.data})),this.getData=this.getData.bind(this),this.setData=this.setData.bind(this),this.syncAsset=this.syncAsset.bind(this),this.updateWidth=this.updateWidth.bind(this),this.onSave=this.onSave.bind(this),this.onChange=this.onChange.bind(this),this.onPublish=this.onPublish.bind(this),this.onUnPublish=this.onUnPublish.bind(this),this.replaceAsset=this.replaceAsset.bind(this)}return e.prototype.getData=function(){return this.currentAsset},e.prototype.setData=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this._connection.sendToParent("setData",e)]}))}))},e.prototype.syncAsset=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this._connection.sendToParent("syncAsset")]}))}))},e.prototype.updateWidth=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){if("number"!=typeof e)throw new Error("Width must be a number");return[2,this._connection.sendToParent("updateAssetSidebarWidth",e)]}))}))},e.prototype.replaceAsset=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,a.default)(this._emitter).handleUpload([e],"replace")]}))}))},e.prototype.onSave=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("assetSave",(function(t){e(t.data)}))},e.prototype.onChange=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("assetChange",(function(t){e(t.data)}))},e.prototype.onPublish=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("assetPublish",(function(t){e(t.data)}))},e.prototype.onUnPublish=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("assetUnPublish",(function(t){e(t.data)}))},e}();t.default=s},34:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.rtePluginInitializer=t.RTEPlugin=void 0;var i=function(e,t){var i=this;this.configCallback=t,this.pluginMetaData={registry:{title:"",toolbar:{inMainToolbar:!0,inHoveringToolbar:!0},isContentstackElement:!0},meta:{id:"",elementType:null,editorCallbacks:{},isDependent:!1}},this.isContainer=!1,this.containerMetaData={registry:{id:this.pluginMetaData.meta.id,title:this.pluginMetaData.registry.title,rootCategory:!1,toolbar:n({},this.pluginMetaData.registry.toolbar)},meta:{id:this.pluginMetaData.meta.id,dependentPlugins:[]}},this.addPlugins=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(i.pluginMetaData.meta.isDependent)throw Error("cannot have another container inside");i.isContainer=!0,e.forEach((function(e){if(e.isContainer)throw Error("cannot have another container inside");e.pluginMetaData.registry.category=i.pluginMetaData.meta.id,i.containerMetaData.meta.dependentPlugins.push(e),e.pluginMetaData.meta.isDependent=!0}))},this.on=function(e,t){switch(e){case"beforeChildRender":i.pluginMetaData.registry.beforeChildrenRender=t;break;case"beforeRender":i.pluginMetaData.registry.beforeElementRender=t;break;case"exec":i.pluginMetaData.registry.handleMouseDown=t;break;case"keydown":i.pluginMetaData.meta.editorCallbacks.keydown=t;break;default:i.pluginMetaData.meta.editorCallbacks[e]=t}},this.get=function(e){return r(i,void 0,void 0,(function(){var t,r,i=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.configCallback(e)];case 1:return t=o.sent(),Object.entries(t).forEach((function(e){var t=e[0],n=e[1];switch(t){case"title":i.pluginMetaData.registry.title=n;break;case"icon":i.pluginMetaData.registry.iconName=n,i.containerMetaData.registry.iconName=n;break;case"display":if(i.pluginMetaData.registry.toolbar={inHoveringToolbar:!1,inMainToolbar:!1},"string"==typeof n)switch(n){case"toolbar":i.pluginMetaData.registry.toolbar.inMainToolbar=!0;break;case"hoveringToolbar":i.pluginMetaData.registry.toolbar.inHoveringToolbar=!0}else Array.isArray(n)&&n.forEach((function(e){switch(e){case"toolbar":i.pluginMetaData.registry.toolbar.inMainToolbar=!0;break;case"hoveringToolbar":i.pluginMetaData.registry.toolbar.inHoveringToolbar=!0}}));break;case"elementType":if("string"==typeof n&&"inline"===n||Array.isArray(n)&&n.includes("inline")){var r=i.pluginMetaData.registry.dndOptions;r||(i.pluginMetaData.registry.dndOptions={},r=i.pluginMetaData.registry.dndOptions),r.DisableDND=!0,r.DisableSelectionHalo=!0}i.pluginMetaData.meta.elementType=n;break;case"render":i.pluginMetaData.registry.Component=n;break;case"shouldOverride":i.pluginMetaData.registry.shouldOverride=n}})),r=this.containerMetaData.meta,this.containerMetaData={registry:n(n({},this.containerMetaData.registry),{id:this.pluginMetaData.meta.id,title:this.pluginMetaData.registry.title,rootCategory:!1,toolbar:n({},this.pluginMetaData.registry.toolbar)}),meta:n(n({},r),{id:this.pluginMetaData.meta.id})},[2,this.isContainer?this.containerMetaData:this.pluginMetaData]}}))}))},this.pluginMetaData.meta.id=e};t.RTEPlugin=i,t.rtePluginInitializer=function(e,t){if(!e||!t)throw Error('Please provide value "id" and "configCallback"');return new i(e,t)}},975:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppConfig=void 0;var o=r(n(931)),i=n(593);t.AppConfig=function(e,t,n){var r=this;this.stack=function(){return new o.default(r._data.stack,r._connection)},this.setInstallationData=function(e){return r._connection.sendToParent("setInstallationData",e).then(i.onData).catch(i.onError)},this.getInstallationData=function(){return r._connection.sendToParent("getInstallationData").then(i.onData).catch(i.onError)},this._data=e,this._connection=t,this._emitter=n}},419:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(940)),i=function(){function e(e,t,n){this.content_type=e.data.content_type,this._data=e.data.entry,this.locale=e.data.locale,this._connection=t,this._emitter=n;var r=this;this._emitter.on("entrySave",(function(e){r._data=e.data})),this._emitter.on("entryChange",(function(e){r._changedData=e.data}))}return e.prototype.getData=function(){return this._data},e.prototype.getField=function(e){var t=e.split("."),n=this._data,r=this.content_type.schema;if(0===Object.keys(n).length)throw new Error("The data is unsaved. Save the data before requesting the field.");try{var i=!1,a=!1;t.forEach((function(e,o){if(i)a?a=!1:i=!1;else{if(!(r=r.find((function(t){return t.uid===e}))))throw Error("schema not found");if(n=n[e],"group"!==r.data_type&&"global_field"!==r.data_type||!1!==r.multiple||t.length===o+1)if("group"!==r.data_type&&"global_field"!==r.data_type||!0!==r.multiple||t.length===o+1){if("blocks"===r.data_type&&t.length!==o+1){var s=Object.keys(n[t[o+1]])[0];r=r.blocks.find((function(e){return e.uid===s})),t.length===o+2?n=n[t[o+1]]:(n=n[t[o+1]][s],r=r.schema),i=!0,a=!0}}else r=r.schema,n=n[t[o+1]],i=!0;else r=r.schema}}))}catch(e){throw Error("Invalid uid, Field not found")}var s={data:{uid:e,value:n,schema:r,data_type:r.data_type}},u=new o.default(s,this._connection,this._emitter);return delete u.onChange,u},e.prototype.onSave=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entrySave",(function(t){e(t.data)}))},e.prototype.onChange=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entryChange",(function(t){e(t.data)}))},e.prototype.onPublish=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entryPublish",(function(t){e(t.data)}))},e.prototype.onUnPublish=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entryUnPublish",(function(t){e(t.data)}))},e}();t.default=i},112:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(727)),u=a(n(940)),c=a(n(362)),l=a(n(931)),d=a(n(419)),f=a(n(923)),h=a(n(65)),p=a(n(795)),y=n(593),m=n(975),v=a(n(979)),w=new p.default,g=function(){function e(e){var t,r=this;this.getConfig=function(){return r.installationUID?r.postRobot.sendToParent("getConfig").then(y.onData).catch(y.onError):Promise.resolve(r.config)},this.getCurrentLocation=function(){return r.type};var o=e;switch(this.postRobot=s.default,this.appUID=o.data.app_id,this.locationUID=o.data.extension_uid,this.installationUID=o.data.installation_uid,this.currentUser=o.data.user,this.type=o.data.type,this.store=new f.default(s.default),this.stack=new l.default(o.data.stack,s.default),this.metadata=new h.default(s.default),this.config=null!==(t=o.data.config)&&void 0!==t?t:{},this.location={DashboardWidget:null,CustomField:null,SidebarWidget:null,RTEPlugin:null,AppConfigWidget:null,FullscreenAppWidget:null,AssetSidebarWidget:null},o.data.type){case"DASHBOARD":this.location.DashboardWidget={frame:new c.default(s.default,this.type,w,o.data.dashboard_width),stack:new l.default(o.data.stack,s.default)};break;case"WIDGET":this.location.SidebarWidget={entry:new d.default(o,s.default,w),stack:new l.default(o.data.stack,s.default)};break;case"APP_CONFIG_WIDGET":this.location.AppConfigWidget={installation:new m.AppConfig(o,s.default,w),stack:new l.default(o.data.stack,s.default)};break;case"ASSET_SIDEBAR_WIDGET":this.location.AssetSidebarWidget=new v.default(o,s.default,w);break;case"RTE":Promise.resolve().then((function(){return i(n(34))})).then((function(e){var t=e.rtePluginInitializer;r.location.RTEPlugin=t}));break;default:o.data.self=!0,this.location.CustomField={field:new u.default(o,s.default,w),fieldConfig:o.data.field_config,entry:new d.default(o,s.default,w),stack:new l.default(o.data.stack,s.default),frame:new c.default(s.default,this.type,w)}}try{s.default.on("extensionEvent",(function(e){"entrySave"===e.data.name&&(w.emitEvent("entrySave",[{data:e.data.data}]),w.emitEvent("updateFields",[{data:e.data.data}])),"entryChange"===e.data.name&&w.emitEvent("entryChange",[{data:e.data.data}]),"entryPublish"===e.data.name&&w.emitEvent("entryPublish",[{data:e.data.data}]),"entryUnPublish"===e.data.name&&w.emitEvent("entryUnPublish",[{data:e.data.data}]),"assetSave"===e.data.name&&(w.emitEvent("assetSave",[{data:e.data.data}]),w.emitEvent("updateFields",[{data:e.data.data}])),"assetChange"===e.data.name&&w.emitEvent("assetChange",[{data:e.data.data}]),"assetPublish"===e.data.name&&w.emitEvent("assetPublish",[{data:e.data.data}]),"assetUnPublish"===e.data.name&&w.emitEvent("assetUnPublish",[{data:e.data.data}]),"dashboardResize"===e.data.name&&w.emitEvent("dashboardResize",[{state:e.data.state}]),"extensionFieldChange"===e.data.name&&w.emitEvent("extensionFieldChange",[{data:e.data.data}])}))}catch(e){console.log("extension Event",e)}}return e.initialize=function(e){return s.default.sendToParent("init",{version:e,meta:{sdkType:"app-sdk"}})},e.prototype.setReady=function(){return this.postRobot.sendToParent("ready")},e}();t.default=g},940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["file","reference","blocks","group","global_field"],r=function(){function e(e,t,n){this.uid=e.data.uid,this.data_type=e.data.schema.data_type,this.schema=e.data.schema,this._emitter=n;var r,o,i,a,s=(r=this,i=o=e.data.value,a=o,"file"===r.data_type&&(o?(i=o,a=!0===r.schema.multiple?o.map((function(e){return e.uid})):o.uid):!0===r.schema.multiple&&(i=[],a=[])),{resolvedData:i,unResolvedData:a});this._data=s.unResolvedData,this._resolvedData=s.resolvedData,this._connection=t,this._self=e.data.self||!1;var u=this;n.on("updateFields",(function(e){var t=u.uid.split("."),n=e.data;t.forEach((function(e){n&&(n=n[e])})),u._data!==n&&(u._data=n)}))}return e.prototype.setData=function(e){var t=this,r=this,o={data:e,uid:r.uid,self:r._self};return r._self||-1===n.indexOf(r.data_type)&&r.data_type?this._connection.sendToParent("setData",o).then((function(){return t._data=e,Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})):Promise.reject(new Error("Cannot call set data for current field type"))},e.prototype.getData=function(e){var t=(void 0===e?{}:e).resolved;return void 0!==t&&t?this._resolvedData:this._data},e.prototype.setFocus=function(){return this._connection.sendToParent("focus")},e.prototype.onChange=function(e){var t=this;if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("extensionFieldChange",(function(n){t._data=n.data,t._resolvedData=n.data,e(n.data)}))},e}();t.default=r},607:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(112)),i=r(n(727)),a=n(147);i.default.CONFIG.LOG_LEVEL="error";var s=function(){function e(){}return e.init=function(){var e=this;return this._extension?Promise.resolve(this._extension):o.default.initialize(a.version).then((function(t){return e._extension=new o.default(t),Promise.resolve(e._extension)})).catch((function(e){return Promise.reject(e)}))},Object.defineProperty(e,"SDK_VERSION",{get:function(){return a.version},enumerable:!1,configurable:!0}),e}();t.default=s,e.exports=s},65:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._connection=e}return e.prototype.createMetaData=function(e){var t=e.entity_uid,o=e.type,i=void 0===o?"asset":o,a=r(e,["entity_uid","type"]),s={action:"createMetadata",payload:{metadata:n({entity_uid:t,type:i},a)}};return this._connection.sendToParent("stackQuery",s)},e.prototype.retrieveMetaData=function(e){var t=e.uid,n={uid:t,action:"retrieveMetadata",payload:{metadata:{uid:t}}};return this._connection.sendToParent("stackQuery",n)},e.prototype.updateMetaData=function(e){var t=e.uid,o=r(e,["uid"]),i={uid:t,action:"updateMetadata",payload:{metadata:n({uid:t},o)}};return this._connection.sendToParent("stackQuery",i)},e.prototype.deleteMetaData=function(e){var t=e.uid,n={uid:t,action:"deleteMetadata",payload:{metadata:{uid:t}}};return this._connection.sendToParent("stackQuery",n)},e}();t.default=o},160:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(684)),l=n(896),d=u(n(727)),f={};function h(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function p(e){return Promise.reject(e)}var y=function(e){function t(t){var n=e.call(this,t)||this;return n.getReferences=l.getReferences,n.environment=l.environment,n}return o(t,e),t.Query=function(){var t=e.Query.call(this);return Object.assign(t,{language:l.language,environment:l.environment}),t},t.module=function(e){return void 0===e&&(e=!1),e?"Assets":"Asset"},Object.defineProperty(t,"connection",{get:function(){return f},enumerable:!1,configurable:!0}),t.getRteAssets=function(){return this.connection.sendToParent("stackQuery",{action:"getRteAssets"}).then(h).catch(p)},t.getAssetsOfSpecificTypes=function(e){return e&&"string"==typeof e?this.connection.sendToParent("stackQuery",{action:"getAssetsOfSpecificTypes",asset_type:e}).then(h).catch(p):Promise.reject(new Error("Kindly provide valid parameters"))},t.prototype.publish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("publishAsset",e)},t.prototype.unpublish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("unpublishAsset",e)},t.handleUpload=function(e,t,n){return i(this,void 0,void 0,(function(){var r,o;return a(this,(function(s){return e&&e.length?(r=[],Array.from(e).forEach((function(e){var t=new File([e],e.name,{type:e.type});r.push(t)})),o=(new Date).getUTCMilliseconds(),[2,function(){return i(this,void 0,void 0,(function(){var e,i;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=d.default.on("uploadReady_"+o,(function(){return window.parent.postMessage({type:"upload_"+o,upload_type:t,files:r,parentFolderUid:null==n?void 0:n.parentFolderUid,customUploadHandler:null==n?void 0:n.customUploadHandler},"*"),e.cancel(),Promise.resolve({})})),[4,d.default.sendToParent("stackOptionsQuery",{action:"upload_"+o,uid:o})];case 1:return a.sent(),[2,d.default.sendToParent("upload_"+o,{})];case 2:return i=a.sent(),[2,Promise.reject(i)];case 3:return[2]}}))}))}()]):[2,Promise.reject(new Error("Kindly provide valid parameters"))]}))}))},t.uploadAsset=function(e,n){return t.handleUpload(e,"upload",n)},t}(c.default);t.default=function(e){return f=e,new Proxy(y,{apply:function(e,t,n){return new(e.bind.apply(e,s([void 0],n,!1)))}})}},684:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(212)),i=n(896);function a(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function s(e){return Promise.reject(e)}var u=function(){function e(e){if(!e)throw new Error("uid is required");this.uid=e,this._query={},this.only=(0,i.transform)("only"),this.except=(0,i.transform)("except"),this.addParam=i.addParam}return e.Query=function(){return new o.default(this.connection,this.module(!0),this.contentTypeUid)},e.create=function(e){var t={payload:e,content_type_uid:this.contentTypeUid,action:"create"+this.module()};return this.connection.sendToParent("stackQuery",t).then(a).catch(s)},e.prototype.update=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("update"+this.constructor.module(),e)},e.prototype.delete=function(){return this.fetch("delete"+this.constructor.module())},e.prototype.fetch=function(e,t){var n={payload:t,content_type_uid:this.constructor.contentTypeUid,uid:this.uid,params:this._query,action:e||"get"+this.constructor.module()};return t||delete n.payload,this.constructor.contentTypeUid||delete n.content_type_uid,this.constructor.connection.sendToParent("stackQuery",n).then(a).catch(s)},e}();t.default=u},573:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(684)),u=n(896),c={},l="",d=function(e){function t(t){var n=e.call(this,t)||this;return n._query={},n}return o(t,e),t.Query=function(){var t=e.Query.call(this);return Object.assign(t,{language:u.language,environment:u.environment,includeOwner:u.includeOwner,includeContentType:u.includeContentType,includeSchema:u.includeSchema,includeReference:u.includeReference}),t},Object.defineProperty(t,"connection",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t,"contentTypeUid",{get:function(){return l},enumerable:!1,configurable:!0}),t.module=function(e){return void 0===e&&(e=!1),e?"Entries":"Entry"},t.prototype.getLanguages=function(){return this.fetch("getEntryLanguages")},t.prototype.unlocalize=function(e){return e&&"string"==typeof e?(this._query.locale=e,this.fetch("unlocalizeEntry")):Promise.reject(new Error("Kindly provide valid parameters"))},t.prototype.publish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query={},this.fetch("publishEntry",e))},t.prototype.unpublish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query={},this.fetch("unpublishEntry",e))},t.prototype.setWorkflowStage=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("setWorkflowStageEntry",e)},t.prototype.update=function(e,t){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query.locale=t,this.fetch("updateEntry",e))},t}(s.default);t.default=function(e,t){return c=e,l=t,new Proxy(d,{apply:function(e,t,n){var r=new(e.bind.apply(e,i([void 0],n,!1)));return Object.assign(r,{getReferences:u.getReferences,addQuery:u.addQuery,language:u.language,environment:u.environment,includeOwner:u.includeOwner,includeContentType:u.includeContentType,includeSchema:u.includeSchema,includeReference:u.includeReference}),r}})}},701:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(573)),u=a(n(684)),c={},l=function(e){function t(t){var n=e.call(this,t)||this;return n.Entry=(0,s.default)(n.constructor.connection,n.uid),n}return o(t,e),Object.defineProperty(t,"connection",{get:function(){return c},enumerable:!1,configurable:!0}),t}(u.default);t.default=function(e){return c=e,new Proxy(l,{apply:function(e,t,n){return new(e.bind.apply(e,i([void 0],n,!1)))}})}},212:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(896));function s(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function u(e){return Promise.reject(e)}var c=function(e){return function(t,n){if(t&&n&&"string"==typeof t&&void 0!==n)return this._query.query[t]=this._query.query.file_size||{},this._query.query[t][e]=n,this;throw Error("Kindly provide valid parameters.")}},l=function(e){var t=e?"$in":"$nin";return function(e,n){if(e&&n&&"string"==typeof e&&Array.isArray(n))return this._query.query[e]=this._query.query[e]||{},this._query.query[e][t]=this._query.query[e][t]||[],this._query.query[e][t]=this._query.query[e][t].concat(n),this;throw Error("Kindly provide valid parameters.")}},d=function(e){return function(t){if(t&&"string"==typeof t)return this._query.query[t]=this._query.query[t]||{},this._query.query[t].$exists=e,this;throw Error("Kindly provide valid parameters.")}},f=function(e){return function(){for(var t=[],n=0,r=arguments.length;n<r;n+=1)arguments[n]instanceof y&&arguments[n]._query.query?t.push(arguments[n]._query.query):"object"==typeof arguments[n]&&t.push(arguments[n]);return this._query.query[e]?this._query.query[e]=this._query.query[e].concat(t):this._query.query[e]=t,this}},h=function(e){return function(t){if(t&&"string"==typeof t)return this._query[e]=t,this;throw Error("Argument should be a string.")}},p=function(e){return function(t){if("number"==typeof t)return this._query[e]=t,this;throw Error("Argument should be a number.")}},y=function(){function e(e,t,n){this.module=t,this._connection=e,this._query={},this._query.query=this._query.query||{},this.contentTypeUid=n,this.only=a.transform("only"),this.except=a.transform("except"),this.addQuery=a.addQuery,this.lessThan=c("$lt"),this.lessThanOrEqualTo=c("$lte"),this.greaterThan=c("$gt"),this.greaterThanOrEqualTo=c("$gte"),this.notEqualTo=c("$ne"),this.containedIn=l(!0),this.notContainedIn=l(!1),this.exists=d(!0),this.notExists=d(!1),this.ascending=h("asc"),this.descending=h("desc"),this.beforeUid=h("before_uid"),this.afterUid=h("after_uid"),this.skip=p("skip"),this.limit=p("limit"),this.or=f("$or"),this.and=f("$and"),this.addParam=a.addParam}return e.prototype.equalTo=function(e,t){if(e&&"string"==typeof e)return this._query.query[e]=t,this;throw Error("Kindly provide valid parameters.")},e.prototype.where=function(e,t){if(e&&"string"==typeof e)return this._query.query[e]=t,this;throw Error("Kindly provide valid parameters.")},e.prototype.count=function(){this._query.count=!0;var e={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",e).then(s).catch(u)},e.prototype.query=function(e){if("object"==typeof e)return this._query.query=a.mergeDeep(this._query.query,e),this;throw Error("Kindly provide valid parameters")},e.prototype.tags=function(e){if(Array.isArray(e))return this._query.tags=e,this;throw Error("Kindly provide valid parameters")},e.prototype.includeCount=function(){return this._query.include_count=!0,this},e.prototype.getQuery=function(){return this._query.query},e.prototype.regex=function(e,t,n){if(e&&t&&"string"==typeof e&&"string"==typeof t)return this._query.query[e]={$regex:t},n&&(this._query.query[e].$options=n),this;throw Error("Kindly provide valid parameters.")},e.prototype.search=function(e){if(e&&"string"==typeof e)return this._query.typeahead=e,this;throw Error("Kindly provide valid parameters.")},e.prototype.find=function(){var e={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",e).then(s).catch(u)},e.prototype.findOne=function(){this.singleEntry=!0,this._query.limit=1;var e={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",e).then(s).catch(u)},e}();t.default=y},931:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(160)),i=r(n(701)),a=n(593),s=function(){function e(e,t){this._connection=t,this._data=e,this.ContentType=(0,i.default)(t),this.Asset=(0,o.default)(t)}return e.prototype.getData=function(){return this._data},e.prototype.getContentType=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("uid is required"));var n={uid:e,params:t,action:"getContentType"};return this._connection.sendToParent("stackQuery",n).then(a.onData).catch(a.onError)},e.prototype.getContentTypes=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=t;n.query=e;var r={params:n,action:"getContentTypes"};return this._connection.sendToParent("stackQuery",r).then(a.onData).catch(a.onError)},e.prototype.getEnvironment=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("name is required"));var n={name:e,params:t,action:"getEnvironment"};return this._connection.sendToParent("stackQuery",n).then(a.onData).catch(a.onError)},e.prototype.getEnvironments=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=t;n.query=e;var r={params:n,action:"getEnvironments"};return this._connection.sendToParent("stackQuery",r).then(a.onData).catch(a.onError)},e.prototype.getLocale=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("code is required"));var n={code:e,params:t,action:"getLocale"};return this._connection.sendToParent("stackQuery",n).then(a.onData).catch(a.onError)},e.prototype.getLocales=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=t;n.query=e;var r={params:n,action:"getLocales"};return this._connection.sendToParent("stackQuery",r).then(a.onData).catch(a.onError)},e.prototype.getWorkflow=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("workflow uid is required"));var n={uid:e,params:t,action:"getWorkflow"};return this._connection.sendToParent("stackQuery",n).then(a.onData).catch(a.onError)},e.prototype.getWorkflows=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=t;n.query=e;var r={params:n,action:"getWorkflows"};return this._connection.sendToParent("stackQuery",r).then(a.onData).catch(a.onError)},e}();t.default=s},896:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReferences=t.includeReference=t.includeSchema=t.includeContentType=t.includeOwner=t.environment=t.language=t.addQuery=t.addParam=t._type=t.mergeDeep=t.merge=t.transform=void 0,t.transform=function(e){return function(){switch(arguments.length){case 1:if(Array.isArray(arguments[0])||"string"==typeof arguments[0])return t=(t=this._query[e+"[BASE]"]||[]).concat(arguments[0]),this._query[e+"[BASE]"]=t,this;throw Error("Kindly provide valid parameters");case 2:var t;if("string"==typeof arguments[0]&&(Array.isArray(arguments[1])||"string"==typeof arguments[1]))return t=(t=this._query[e+"["+arguments[0]+"]"]||[]).concat(arguments[1]),this._query[e+"["+arguments[0]+"]"]=t,this;throw Error("Kindly provide valid parameters");default:throw Error("Kindly provide valid parameters")}}},t.merge=function(e,t){var n=e;return e&&t&&Object.keys(t).forEach((function(e){n[e]=t[e]})),n},t.mergeDeep=function(e,t){var n=e,r=this,o=function(e,t){var n=e;Object.keys(t).forEach((function(e){"object"===r._type(t[e])&&r._type(n[e])===r._type(t[e])?o(n[e],t[e]):"array"===r._type(t[e])&&r._type(n[e])===r._type(t[e])?n[e]=n[e].concat(t[e]):n[e]=t[e]}))};return o(n,t),n},t._type=function(e){var t=typeof e;return"object"===t&&Array.isArray(e)&&(t="array"),t},t.addParam=function(e,t){if(e&&"string"==typeof e&&t&&"string"==typeof t)return this._query[e]=t,this;throw Error("Kindly provide valid parameters.")},t.addQuery=function(e,t){if(e&&t&&"string"==typeof e)return this._query[e]=t,this;throw Error("First argument should be a String.")},t.language=function(e){if(e&&"string"==typeof e)return this._query.locale=e,this;throw Error("Argument should be a String.")},t.environment=function(e){if(e&&"string"==typeof e)return this._query.environment=e,this;throw Error("Argument should be a String.")},t.includeOwner=function(){return this._query.include_owner=!0,this},t.includeContentType=function(){return this._query.include_content_type=!0,this},t.includeSchema=function(){return this._query.include_schema=!0,this},t.includeReference=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t+=1)this._query["include[]"]=this._query["include[]"]||[],this._query["include[]"]=this._query["include[]"].concat(e[t]);else{if("string"!=typeof e)throw Error("Argument should be a String or an Array.");for(t=0;t<arguments.length;t+=1)this._query["include[]"]=this._query["include[]"]||[],this._query["include[]"]=this._query["include[]"].concat(arguments[t])}return this},t.getReferences=function(){return this.fetch("get"+this.constructor.module()+"References")}},923:(e,t)=>{"use strict";function n(e){return Promise.reject(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._connection=e}return e.prototype.get=function(e){if(!e||"string"!=typeof e)throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"get",key:e}).then((function(e){return Promise.resolve(e.data)})).catch(n)},e.prototype.getAll=function(){return this._connection.sendToParent("store",{action:"getAll"}).then((function(e){var t=e.data,n=void 0===t?{}:t;return Promise.resolve(n)})).catch(n)},e.prototype.set=function(e,t){if(!e||!t||"string"!=typeof e)throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"set",key:e,value:t}).then((function(){return Promise.resolve(!0)})).catch(n)},e.prototype.remove=function(e){if(!e||"string"!=typeof e)throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"remove",key:e}).then((function(){return Promise.resolve(!0)})).catch(n)},e.prototype.clear=function(){return this._connection.sendToParent("store",{action:"clear"}).then((function(){return Promise.resolve(!0)})).catch(n)},e}();t.default=r},593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onError=t.onData=void 0,t.onData=function(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)},t.onError=function(e){return Promise.reject(e)}},362:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(n(727)),a={attributes:!0,childList:!0,subtree:!0},s=function(){function e(e,t,n,r){void 0===r&&(r="half_width"),this._connection=e||i.default,this._autoResizingEnabled=!1,this._resizingEnabled=!1,this.type=t,this.state=r,this._emitter=n}return e.prototype.enableResizing=function(){return"DASHBOARD"!==this.type?Promise.resolve():(this._resizingEnabled=!0,this._connection.sendToParent("window",{action:"enableResizing"}))},e.prototype.onDashboardResize=function(e){var t=this;if("DASHBOARD"!==this.type)return!1;if(!e||"function"!=typeof e)throw Error("Callback must be a function");return t._emitter.on("dashboardResize",(function(n){t.state=n.state,e(n.state)})),!0},e.prototype.updateHeight=function(e){if("DASHBOARD"===this.type&&"half_width"===this.state)return Promise.resolve();if(!e||isNaN(e))this._height=Math.ceil(document.documentElement.getBoundingClientRect().height);else{if(this._height===e)return Promise.resolve();this._height=e}return this._connection.sendToParent("resize",this._height)},e.prototype.enableAutoResizing=function(){return this._autoResizingEnabled||"half_width"===this.state&&"DASHBOARD"===this.type||(this._autoResizingEnabled=!0,(o=new MutationObserver(this.updateHeight.bind(this))).observe(window.document.body,a)),this},e.prototype.disableAutoResizing=function(){return this._autoResizingEnabled?(this._autoResizingEnabled=!1,o.disconnect(),this):this},e.prototype.enablePaddingTop=function(){return i.default.sendToParent("window",{action:"dashboardEnableTopPadding"})},e.prototype.disablePaddingTop=function(){return i.default.sendToParent("window",{action:"dashboardDisableTopPadding"})},e}();t.default=s},795:function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function u(e){return function(){return this[e].apply(this,arguments)}}function c(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&c(e.listener)}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!c(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=u("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=u("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},i.off=u("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=u("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=u("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}(this||{})},147:e=>{"use strict";e.exports=JSON.parse('{"name":"@contentstack/app-sdk","version":"1.2.1","types":"dist/src/index.d.ts","description":"This SDK helps connect to the development server of the Contentstack and sync the data.","main":"dist/index.js","repository":"https://github.com/contentstack/app-sdk","scripts":{"prepublish":"npm run build","build":"webpack","test":"jest","test:watch":"jest --watchAll","test:coverage":"jest --coverage --coverageDirectory=\\"coverage\\"","dev":"webpack --watch --mode development","lint":"eslint . --ext .ts","docs":"typedoc --out doc --entryPointStrategy expand ./src"},"keywords":[],"author":{"name":"Contentstack","url":"https://www.contentstack.com/"},"maintainers":[{"name":"Deepak Kharah","email":"deepak.kharah@contentstack.com"}],"license":"MIT","devDependencies":{"@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@testing-library/jest-dom":"^5.14.1","@types/chai":"^4.2.22","@types/jest":"^27.0.2","@types/mocha":"^9.0.0","@types/post-robot":"^10.0.3","@types/react":"^17.0.18","@typescript-eslint/eslint-plugin":"^5.10.1","@typescript-eslint/parser":"^5.10.1","babel-loader":"^9.1.0","chai":"^4.3.4","css-loader":"^5.2.2","eslint":"^8.7.0","jest":"^27.3.1","mocha":"^9.2.0","react":"^17.0.2","slate":"^0.72.3","ts-jest":"^27.0.7","ts-loader":"^8.1.0","ts-node":"^10.3.0","typedoc":"^0.22.17","typescript":"^4.4.4","webpack":"^5.65.0","webpack-cli":"^4.9.1","webpack-dev-server":"^4.7.3"},"dependencies":{"loader-utils":"^3.2.0","post-robot":"8.0.29","wolfy87-eventemitter":"5.2.4"},"files":["dist"]}')}},t={},function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(607);var e,t},e.exports=t()},652:function(e,t,n){const r=n(675),{mergeAttributesWithElements:o}=n(372);e.exports=(e,t={})=>{const n=o(e);return r(n,t)}},675:function(e){e.exports=(e,t={})=>{const n=t.char||" ",r=t.count||2;let o=0;const i=[];return e.reverse().reduce(((e,t)=>{i.length&&o&&i[o]&&i[o]===t.substring(1,i[o].length+1)&&(i.splice(o,1),o--);const a=[`${n.repeat(o?o*r:0)}${t}`,...e];return"</"===t.substring(0,2)&&(o++,i[o]=t.substring(2,t.length-1)),a}),[]).join("\n")}},372:function(e){const t=e=>e.trim().replace(/(^(\s|\t)+|(( |\t)+)$)/gm,"");e.exports={mergeAttributesWithElements:e=>{const n=t(e).split("\n"),r=[];let o="";for(let e=0;e<n.length;e+=1){const t=n[e];t.endsWith("/>")?(r.push(`${o}${t.slice(0,-2)} />`),o=""):t.endsWith(">")?(r.push(`${o}${t.startsWith(">")||t.startsWith("<")?"":" "}${t}`),o=""):o+=o.length?` ${t}`:t}return r},removeEmptyLines:t}},317:function(e){"use strict";e.exports=n},954:function(e){"use strict";e.exports=r}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";o.r(i),o.d(i,{default:function(){return j}});var e=o(28),t=o.n(e),n=o(317),r=o(954),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},s=function(e){var t=e.leaf;return r.default.createElement("span",a({},e.attributes,{style:{color:t["font-color"]}}),e.children)},u=[{name:"Blue",color:"rgb(30,144,255)"},{name:"Orange",color:"rgb(255,127,80)"},{name:"Green",color:"rgb(34,139,34)"},{name:"Purple",color:"rgb(138,43,226)"},{name:"Default",color:""}].map((function(e){return{label:r.default.createElement("span",{style:{color:e.color}},e.name),value:e.color,showAsActive:!0,action:function(){var t=window.rte;"Default"===e.name?t.removeMark("font-color"):(console.log(e.color),t.addMark("font-color",e.color))}}})),c=function(){return r.default.createElement(n.Dropdown,{list:u,type:"click",highlightActive:!0},r.default.createElement(n.Icon,{style:{padding:"0 6px"},icon:"Edit",fill:"blue",size:"original"}))},l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},d=function(e){var t=e.leaf;return r.default.createElement("span",l({},e.attributes,{style:{fontSize:t["font-size"]}}),e.children)},f=[{size:"Default"},{size:12},{size:14},{size:16},{size:20},{size:24}].map((function(e){return{label:r.default.createElement("span",{style:{fontSize:e.size.toString()+"px"}},e.size),value:e.size,showAsActive:!0,action:function(){var t=window.rte;"Default"===e.size?t.removeMark("font-size"):t.addMark("font-size",e.size)}}})),h=function(){return r.default.createElement(n.Dropdown,{list:f,type:"click",highlightActive:!0},r.default.createElement(n.Icon,{style:{padding:"0 6px"},icon:"ExpandArrow",size:"original"}))},p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)},y=function(e){var t=e.leaf;return r.default.createElement("span",p({},e.attributes,{style:{fontWeight:t["font-weight"]}}),e.children)},m=[{weight:"Default"},{weight:100},{weight:300},{weight:400},{weight:500},{weight:700},{weight:900}].map((function(e){return{label:r.default.createElement("span",{style:{fontWeight:e.weight.toString()+"px"}},e.weight),value:e.weight,showAsActive:!0,action:function(){var t=window.rte;"Default"===e.weight?t.removeMark("font-weight"):t.addMark("font-weight",e.weight)}}})),v=function(){return r.default.createElement(n.Dropdown,{list:m,type:"click",highlightActive:!0},r.default.createElement(n.Icon,{style:{padding:"0 6px"},icon:"Bold",fill:"blue",size:"original"}))},w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)},g=function(e){return e.leaf,r.default.createElement("span",null,e.children)},_=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},b=function(e){return e.leaf,r.default.createElement("span",_({},e.attributes,{style:{backgroundColor:"#EEEEEE"}}),e.children)},E=[{ch:"NBSP",enc:" "},{ch:"NBH",enc:"‑"},{ch:"SHY",enc:"­"}].map((function(e){return{label:r.default.createElement("span",null,e.ch),value:e.enc,showAsActive:!1,action:function(){var t=window.rte,n=t.selection.get().anchor,r={anchor:n,focus:{offset:n.offset+1,path:n.path}};t.insertText(e.enc),t.selection.set(r),t.addMark("uni-ch",!0)}}})),O=function(){return r.default.createElement(n.Dropdown,{list:E,type:"click",highlightActive:!0},r.default.createElement(n.Icon,{style:{padding:"0 6px"},icon:"ExpandArrow",size:"original"}))},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)},S=function(e){return console.log(e),r.default.createElement("a",{href:e.element.attrs.url,rel:e.element.attrs.nofollow?"nofollow":""},e.children," (nofollow)")},T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},T.apply(this,arguments)},A=o(652),D=function(e){return console.log(A(e.text.text,{count:10})),r.default.createElement(r.default.Fragment,null,A(e.text.text))},j=t().init().then((function(e){return t=void 0,o=void 0,u=function(){var t,o,i,u,f,m,E,A,j,M;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(R){switch(R.label){case 0:return[4,e.location];case 1:return t=R.sent(),console.log(t),[4,t.RTEPlugin];case 2:return(o=R.sent())?(i=function(e){var t=e("font-color",(function(){return{title:"Set Font Color",icon:r.default.createElement(c,null),render:function(e){return r.default.createElement(s,a({},e))},display:["toolbar"],elementType:["text"]}}));return t.on("exec",(function(e){window.rte||(window.rte=e)})),t}(o),u=function(e){var t=e("font-size",(function(){return{title:"Set Font Size",icon:r.default.createElement(h,null),render:function(e){return r.default.createElement(d,l({},e))},display:["toolbar"],elementType:["text"]}}));return t.on("exec",(function(e){window.rte||(window.rte=e)})),t}(o),f=function(e){var t=e("font-weight",(function(){return{title:"Set Font Weight",icon:r.default.createElement(v,null),render:function(e){return r.default.createElement(y,p({},e))},display:["toolbar"],elementType:["text"]}}));return t.on("exec",(function(e){window.rte||(window.rte=e)})),t}(o),m=function(e){var t=e("insert",(function(){return{title:"Insert Boilerplate",icon:r.default.createElement(n.Icon,{icon:"PlusSign"}),render:function(e){return r.default.createElement(g,w({},e))},display:["toolbar"],elementType:["block"]}}));return t.on("exec",(function(e){window.rte||(window.rte=e),null!==e.getVariable("boilerplateSet")&&!1!==e.getVariable("boilerplateSet")||(e.insertNode({type:"h1",children:[{type:"h1",children:[{text:"Boilerplate"}]},{type:"p",children:[{text:"Here's some text.",highlight:40}]}]}),e.setVariable("boilerplateSet",!0))})),t}(o),E=function(e){var t=e("uni-ch",(function(){return{title:"Insert Uni Character",icon:r.default.createElement(O,null),render:function(e){return r.default.createElement(b,_({},e))},display:["toolbar"],elementType:["inline"]}}));return t.on("exec",(function(e){window.rte||(window.rte=e)})),t}(o),A=function(e){var t=e("highlight",(function(){return{title:"Highlight",icon:r.default.createElement(n.Icon,{style:{padding:"0 6px"},icon:"Edit",size:"original"}),render:function(e){return r.default.createElement("span",{style:{background:"rgba(251, 243, 219, 1)",fontSize:e.leaf.highlight}},e.children)},displayOn:["toolbar"],elementType:["text"]}}));return t.on("exec",(function(e){window.rte||(window.rte=e),e.addMark("highlight",40),console.log(e.getVariable("boilerplateSet"))})),t}(o),j=function(e){var t=function(e){var t=e.rte,o=(0,r.useState)(!0),i=o[0],a=o[1];return r.default.createElement(r.default.Fragment,null,r.default.createElement(n.ModalHeader,{title:"Insert nofollow link",closeModal:e.closeModal}),r.default.createElement(n.ModalBody,{className:"modalBodyCustomClass"},r.default.createElement(n.Form,null,r.default.createElement(n.Field,null,r.default.createElement(n.FieldLabel,{required:!0,htmlFor:"url"},"URL"),r.default.createElement(n.TextInput,{required:!0,value:t.getVariable("url"),placeholder:"Enter nofollow URL",id:"nofollowurl",name:"url",onChange:function(e){return n=e.target.value,t.setVariable("url",n),void a(""===n);var n}}),r.default.createElement(n.ValidationMessage,{style:{marginLeft:10}},"Required")),r.default.createElement(n.Field,null,r.default.createElement(n.FieldLabel,{required:!0,htmlFor:"display"},"Display text"),r.default.createElement(n.TextInput,{value:t.getVariable("display"),placeholder:"Enter display text",name:"display",onChange:function(e){return t.setVariable("display",e.target.value)}})))),r.default.createElement(n.ModalFooter,null,r.default.createElement(n.ButtonGroup,null,r.default.createElement(n.Button,{buttonType:"light",onClick:function(){return e.closeModal()}},"Cancel"),r.default.createElement(n.Button,{onClick:function(n){n.preventDefault();var r=t.getVariable("url"),o=t.getVariable("display");t.insertNode({type:"a-nofollow",attrs:{url:r,nofollow:!0},children:[{text:o,nofollow:!0}]}),e.closeModal()},disabled:i},"Save"))))},o=e("a-nofollow",(function(){return{title:"Insert Nofollow Link",icon:r.default.createElement(n.Icon,{icon:"LinkSmall"}),render:function(e){return r.default.createElement(S,P({},e))},display:["toolbar"],elementType:["inline"]}}));return o.on("exec",(function(e){console.log(e),window.rte||(window.rte=e),e.setVariable("url",""),e.setVariable("display",""),(0,n.cbModal)({component:function(n){return r.default.createElement(t,P({rte:e},n))},modalProps:{shouldReturnFocusAfterClose:!1}})})),o}(o),M=function(e){var t=function(e){var t=e.rte,o=(0,r.useState)(!0),i=o[0],a=o[1];return r.default.createElement(r.default.Fragment,null,r.default.createElement(n.ModalHeader,{title:"Insert nofollow link",closeModal:e.closeModal}),r.default.createElement(n.ModalBody,{className:"modalBodyCustomClass"},r.default.createElement(n.Form,null,r.default.createElement(n.Field,null,r.default.createElement(n.FieldLabel,{required:!0,htmlFor:"url"},"URL"),r.default.createElement(n.TextInput,{required:!0,value:t.getVariable("url"),placeholder:"Enter nofollow URL",id:"nofollowurl",name:"url",onChange:function(e){return n=e.target.value,t.setVariable("url",n),void a(""===n);var n}}),r.default.createElement(n.ValidationMessage,{style:{marginLeft:10}},"Required")),r.default.createElement(n.Field,null,r.default.createElement(n.FieldLabel,{required:!0,htmlFor:"display"},"Display text"),r.default.createElement(n.TextInput,{value:t.getVariable("display"),placeholder:"Enter display text",name:"display",onChange:function(e){return t.setVariable("display",e.target.value)}})))),r.default.createElement(n.ModalFooter,null,r.default.createElement(n.ButtonGroup,null,r.default.createElement(n.Button,{buttonType:"light",onClick:function(){return e.closeModal()}},"Cancel"),r.default.createElement(n.Button,{onClick:function(n){n.preventDefault(),t.getVariable("url"),t.getVariable("display"),t.insertNode({type:"html",children:[{text:"<p><b>Hello</b></p>",html:!0}]}),e.closeModal()},disabled:i},"Save"))))},o=e("html",(function(){return{title:"html",icon:r.default.createElement(n.Icon,{icon:"Link"}),render:function(e){return r.default.createElement(D,T({},e.children[0].props))},display:["toolbar"],elementType:["inline"]}}));return o.on("exec",(function(e){window.rte||(window.rte=e),e.setVariable("url",""),e.setVariable("display",""),(0,n.cbModal)({component:function(n){return r.default.createElement(t,T({rte:e},n))},modalProps:{shouldReturnFocusAfterClose:!1}})})),o}(o),[2,{InsertBoilerplate:m,SetFontColor:i,SetFontSize:u,SetFontWeight:f,InsertUniCH:E,Highlight:A,Nofollow:j,Html:M}]):[2]}}))},new((i=void 0)||(i=Promise))((function(e,n){function r(e){try{s(u.next(e))}catch(e){n(e)}}function a(e){try{s(u.throw(e))}catch(e){n(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}s((u=u.apply(t,o||[])).next())}));var t,o,i,u}))}(),i}())}}}));