(this["webpackJsonpmarketplace-app-boilerplate"]=this["webpackJsonpmarketplace-app-boilerplate"]||[]).push([[14],{1340:function(t,e,n){"use strict";n.r(e);var c=n(4),r=n(6),o=n(5),a=n(0),s=n(28),i=n.n(s),u=n(95),l=n(1);e.default=function(){var t=Object(a.useState)("https://ac.cnstrc.com/search/?key=key_FNlcaUSzF3ulbjoM&fmt_options[fields]="),e=Object(o.a)(t,2),n=e[0],s=(e[1],Object(a.useState)({})),p=Object(o.a)(s,2),f=p[0],j=(p[1],Object(a.useState)()),b=Object(o.a)(j,2),O=(b[0],b[1]),h=Object(a.useState)(),d=Object(o.a)(h,2),v=d[0],g=d[1],m=Object(a.useState)(!1),x=Object(o.a)(m,2),k=(x[0],x[1]),y=Object(a.useState)(),w=Object(o.a)(y,2),S=(w[0],w[1],Object(a.useState)(!1)),C=Object(o.a)(S,2),N=(C[0],C[1]),F=Object(a.useState)(),_=Object(o.a)(F,2),D=(_[0],_[1]),E=Object(a.useRef)(null),G=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var e,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching groups from Contructor.io endpoint"),k(!0),N(!0),t.next=5,fetch(n,{headers:f});case 5:return e=t.sent,t.next=8,e.json();case 8:r=t.sent,console.log(r),O(r.response),g(r.response.groups[0].children.map((function(t){return t.display_name})));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){function t(){return(t=Object(r.a)(Object(c.a)().mark((function t(){var e,n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!E.current){t.next=6;break}return t.next=3,E.current.getInstallationData();case 3:r=t.sent,null!==(e=r.configuration)&&void 0!==e&&e.constructorGroups&&(null===(n=r.configuration)||void 0===n?void 0:n.constructorGroups.length)>0&&g(r.configuration.constructorGroups),console.log(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i.a.init().then(function(){var t=Object(r.a)(Object(c.a)().mark((function t(e){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.current=(null===(n=e.location.AppConfigWidget)||void 0===n?void 0:n.installation)||null,D(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){return function(){return t.apply(this,arguments)}()}))}),[]),Object(a.useEffect)((function(){E.current&&E.current.setInstallationData({configuration:{constructorGroups:v},serverConfiguration:{}})}),[E,v]),Object(l.jsx)("div",{className:"app-config",children:Object(l.jsx)("div",{className:"app-config-container",children:Object(l.jsxs)("div",{className:"constructor-cats-config",children:[Object(l.jsx)(u.b,{buttonType:"primary",onClick:G,children:"Fetch groups"}),"object"===typeof v&&Object.keys(v).length>0?Object(l.jsxs)("div",{children:[Object(l.jsx)("ul",{children:v.map((function(t,e){return Object(l.jsx)("li",{children:t},e)}))}),Object(l.jsx)("p",{children:"Click Save below to save these categories"})]}):""]})})})}},97:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=97},99:function(t,e){}}]);
//# sourceMappingURL=14.4ffdb047.chunk.js.map