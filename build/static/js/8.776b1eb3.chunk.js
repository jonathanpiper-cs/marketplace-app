(this["webpackJsonpmarketplace-app-boilerplate"]=this["webpackJsonpmarketplace-app-boilerplate"]||[]).push([[8],{1332:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n(4),r=n(6),i=n(5),s=n(0),o=n(28),l=n.n(o),u=n(95),d=(n(104),n(8)),j=n(1);new(n(526))({removeAddition:!0}),n(534);t.default=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],b=Object(s.useState)({}),f=Object(i.a)(b,2),h=f[0],O=f[1],p=Object(s.useState)(),v=Object(i.a)(p,2),x=v[0],m=v[1],g=Object(s.useState)(!1),y=Object(i.a)(g,2),k=(y[0],y[1]),S=Object(s.useState)(),w=Object(i.a)(S,2),N=w[0],D=w[1],C=Object(s.useState)(!1),E=Object(i.a)(C,2),A=E[0],F=E[1],T=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var t,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),F(!0),e.next=4,fetch(n,{headers:h});case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,console.log(c),m(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){l.a.init().then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,c,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,t.location.CustomField;case 3:return n=e.sent,D(n),e.next=7,n.field.getData();case 7:return c=e.sent,e.next=10,n.fieldConfig;case 10:r=e.sent,o(null===r||void 0===r?void 0:r.endpoint),O(null===r||void 0===r?void 0:r.headers),n.frame.enableResizing(),n.frame.updateHeight(800),Object(d.isEmpty)(c)||null===c||c.catchallData&&m(c.catchallData);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var z=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.field.setData({catchallData:x}),k(!1),F(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Array.isArray(t)&&(t=t.find((function(e){return void 0!==e}))),"object"===typeof t?Object(j.jsx)("ul",{children:Object.keys(t).map((function(r,i){for(;a.length>n;)a.pop();return a[n]=r,Object(j.jsxs)("li",{"data-key":String(a),children:[Object(j.jsx)("p",{id:String(Object(c.a)(a)),children:"".concat(r," ").concat("object"!==typeof t[r]?"("+String(t[r]).substring(0,60)+String(t[r].length>60?"...":"")+")":"")}),e(t[r],n+1,a)]},r)}))}):Object(j.jsx)(j.Fragment,{})},L=function(e){return Object(j.jsxs)("div",{children:[x?Object(j.jsx)("p",{children:"The endpoint returned:"}):"",J(e.obj)]})};return Object(j.jsx)("div",{className:"custom-field",children:Object(j.jsxs)("div",{className:"custom-field-container",children:[Object(j.jsxs)("div",{className:"catchall-header",children:[Object(j.jsx)("h6",{children:"API Catchall Endpoint:"}),Object(j.jsxs)("div",{className:"catchall-action",children:[Object(j.jsx)("p",{children:n}),Object(j.jsx)(u.b,{buttonType:"secondary",icon:"Reload",onClick:T,children:"Load"})]})]}),Object(j.jsxs)("div",{className:"catchall-body",children:[Object(j.jsx)("div",{className:"catchall-entries",children:Object(j.jsx)(L,{obj:x})}),Object(j.jsx)("div",{className:"catchall-bigbutton",children:Object(j.jsx)(u.b,{disabled:!A,icon:"SaveWhite",size:"large",onClick:z,children:"Save this data to field?"})})]})]})})}},540:function(e,t){},541:function(e,t){},551:function(e,t){},552:function(e,t){},572:function(e,t){},574:function(e,t){},575:function(e,t){},576:function(e,t){},577:function(e,t){},585:function(e,t){},591:function(e,t){},594:function(e,t){},97:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=97},99:function(e,t){}}]);
//# sourceMappingURL=8.776b1eb3.chunk.js.map