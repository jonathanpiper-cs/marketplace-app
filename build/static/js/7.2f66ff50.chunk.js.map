{"version":3,"sources":["containers/CustomField/BCCTA.tsx","../node_modules/systemjs/dist lazy groupOptions: {} namespace object"],"names":["require","removeAddition","BCCTA","_useState","useState","_useState2","_slicedToArray","setEndpoint","_useState3","_useState4","setHeaders","_useState5","_useState6","catchallData","setCatchallData","_useState7","_useState8","setFetching","_useState9","_useState10","customField","setCustomField","_useState11","_useState12","setUnsaved","useEffect","ContentstackAppSDK","init","then","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","appSDK","customFieldObject","fieldData","fieldConfig","wrap","_context2","prev","next","location","CustomField","sent","field","getData","endpoint","headers","frame","enableResizing","updateHeight","isEmpty","stop","_x","apply","arguments","saveDataToField","_ref3","_callee3","_context3","setData","_jsx","className","children","_jsxs","Form","Field","FieldLabel","htmlFor","TextInput","type","id","name","Select","selectLabel","onChange","options","label","searchableLabel","value","Button","onClick","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","keys","module","exports"],"mappings":"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","file":"static/js/7.2f66ff50.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport localeTexts from \"../../common/locales/en-us/index\";\nimport parse from \"html-react-parser\";\nimport ContentstackAppSDK from \"@contentstack/app-sdk\";\nimport { useCustomField } from \"../../common/hooks/useCustomField\";\nimport {\n  Icon,\n  Button,\n  Select,\n  Checkbox,\n  Accordion,\n  Form,\n  Field,\n  FieldLabel,\n  Help,\n  ValidationMessage,\n  TextInput,\n  InstructionText,\n} from \"@contentstack/venus-components\";\nimport \"@contentstack/venus-components/build/main.css\";\nimport { isEmpty } from \"lodash\";\n\nconst Ajv = require(\"ajv\");\nconst ajv = new Ajv({ removeAddition: true });\nconst jsonSchemaGenerator = require(\"json-schema-generator\");\n\nconst BCCTA = () => {\n  // const { customField, setFieldData }: any = useCustomField();\n  const [endpoint, setEndpoint] = useState(\"\");\n  const [headers, setHeaders] = useState({});\n  const [catchallData, setCatchallData] = useState<any>();\n  // const [catchallSchema, setCatchallSchema] = useState<any>({});\n  const [fetching, setFetching] = useState(false);\n  const [customField, setCustomField] = useState<any>();\n  // const [schemaSavedToEntry, setSchemaSavedToEntry] = useState(false);\n  const [unsaved, setUnsaved] = useState(false);\n\n  const fetchEndpoint = async () => {\n    setFetching(true);\n    setUnsaved(true);\n    const response = await fetch(endpoint, { headers });\n    const json = await response.json();\n    console.log(json);\n    setCatchallData(json);\n  };\n\n  useEffect(() => {\n    ContentstackAppSDK.init().then(async (appSDK: any) => {\n      const customFieldObject = await appSDK.location.CustomField;\n      setCustomField(customFieldObject);\n      var fieldData = await customFieldObject.field.getData();\n      const fieldConfig = await customFieldObject.fieldConfig;\n      setEndpoint(fieldConfig?.endpoint);\n      setHeaders(fieldConfig?.headers);\n      customFieldObject.frame.enableResizing();\n      customFieldObject.frame.updateHeight(800);\n      if (!isEmpty(fieldData) && fieldData !== null) {\n        // if (fieldData.catchallSchema) {\n        //     setSchemaSavedToEntry(true);\n        //     setCatchallSchema(fieldData.catchallSchema);\n        // }\n        if (fieldData.catchallData) {\n          setCatchallData(fieldData.catchallData);\n        }\n      }\n    });\n  }, []);\n\n\n  const saveDataToField = async () => {\n    customField.field.setData({\n      // catchallSchema: catchallSchema,\n      catchallData: catchallData,\n    });\n    setFetching(false);\n    setUnsaved(false);\n  };\n\n  return (\n    <div className=\"custom-field\">\n      <div className=\"bc-cta\">\n        <Form>\n          <Field>\n            <FieldLabel htmlFor=\"cta-title\">Title:</FieldLabel>\n            <TextInput type=\"text\" id=\"cta-title\" name=\"cta-title\" />\n          </Field>\n          <Field>\n            <FieldLabel htmlFor=\"cta-target\">Target URL:</FieldLabel>\n            <TextInput type=\"text\" id=\"cta-target\" name=\"cta-target\" />\n          </Field>\n          <Select\n            selectLabel={\"Style\"}\n            onChange={() => {}}\n            options={[\n              {\n                id: 0,\n                label: \"Brand\",\n                searchableLabel: \"Brand\",\n                value: \"brand\",\n              },\n              {\n                id: 1,\n                label: \"Dark\",\n                searchableLabel: \"Dark\",\n                value: \"dark\",\n              },\n            ]}\n            value={null}\n          />\n          <Button onClick={saveDataToField}>Save</Button>\n        </Form>\n      </div>\n    </div>\n  );\n};\n\nexport default BCCTA;\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 97;"],"sourceRoot":""}