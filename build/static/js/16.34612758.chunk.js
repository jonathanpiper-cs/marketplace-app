(this["webpackJsonpmarketplace-app-boilerplate"]=this["webpackJsonpmarketplace-app-boilerplate"]||[]).push([[16],{1334:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(6),c=n(5),u=n(0),i=n(28),o=n.n(i),s=n(95),l=(n(104),n(1));t.default=function(){var e=Object(u.useState)({}),t=Object(c.a)(e,2),n=t[0],i=t[1],d=Object(u.useState)(),p=Object(c.a)(d,2),f=p[0],b=p[1],j=Object(u.useState)({}),h=Object(c.a)(j,2),O=(h[0],h[1],function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var t,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData();case 2:return t=e.sent,a=t.collaborators,console.log("users",a),e.abrupt("return",a.map((function(e){return e.full_name="".concat(e.first_name," ").concat(e.last_name),e})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),m=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){var t=e.uid;return n.ContentType(t).Entry.Query().includeContentType().find()}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){return e.updated_at<t.updated_at?1:e.updated_at>t.updated_at?-1:0};return o.a.init().then(function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.location.DashboardWidget;case 2:return n=e.sent,e.t0=i,e.next=6,t.stack;case 6:e.t1=e.sent,(0,e.t0)(e.t1),(a=n.frame).enableResizing(),a.updateHeight(800);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.useEffect)((function(){var e=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var t,a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getContentTypes();case 2:return t=e.sent,e.next=5,m(t.content_types);case 5:return a=e.sent,e.next=8,O();case 8:c=e.sent,b(a.map((function(e){return e.entries.map((function(t){return t.content_type=e.content_type,t.user_name=c.filter((function(e){return e.uid===t.updated_by}))[0].full_name,t}))})).flat().sort(v));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),Object(l.jsx)("div",{className:"dashboard",children:Object(l.jsx)("div",{className:"dashboard-container",children:Object(l.jsx)("div",{className:"large-entries-list",children:f?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(s.h,{canRefresh:!0,canSearch:!0,columnSelector:!0,columns:[{Header:"Title",accessor:function(){},addToColumnSelector:!0,id:"title"},{Header:"Locale",accessor:"locale",default:!1,addToColumnSelector:!0}],data:[f],fetchTableData:function(){},getViewByValue:function(){},initialSortBy:[{desc:!0,id:"title"}],itemStatusMap:{0:"loading"},loadMoreItems:function(){},loading:!0,minBatchSizeToFetch:50,searchPlaceholder:"Search",totalCounts:null,uniqueKey:"uid",viewSelector:!0}),Object(l.jsx)("table",{children:Object(l.jsx)("tbody",{children:null===f||void 0===f?void 0:f.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.title?e.title:"Untitled"}),Object(l.jsx)("td",{children:e.content_type.title?e.content_type.title:""}),Object(l.jsx)("td",{children:e._version?e._version:""}),Object(l.jsx)("td",{children:e.locale?e.locale:""}),Object(l.jsx)("td",{children:e.updated_by?e.user_name:""}),Object(l.jsx)("td",{children:e.updated_at?e.updated_at:""})]},t)}))})})]}):Object(l.jsx)(s.a,{className:"loader"})})})})}},97:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=97},99:function(e,t){}}]);
//# sourceMappingURL=16.34612758.chunk.js.map